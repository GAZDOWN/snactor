---
inputs:
  - name: filter
    type: string
  - name: rpm_packages
    type: RPMPackages
output:
  name: filtered_packages
  type: RPMPackages
type: python
python:
  arguments:
    - @filter@
  payload: |
    import json
    import sys
    data = json.load(sys.stdin)
    data.packages = [p for p in data.packages if p.name.find(sys.argv[1]) != -1]
    print json.dumps(data)
